title: Hugging Face Transformers
author: ParisNeo
creation_date: 2025-08-13
last_update_date: 2025-12-06
description: Run Hugging Face models locally with smart memory management, batching, direct download, and LoRA merging capabilities.
input_parameters:
  - name: model_name
    type: str
    description: "Default model to load on startup (HF ID or Local Name)."
    mandatory: false
    default: ""
  - name: max_active_models
    type: int
    description: "Maximum number of models to keep in VRAM/RAM simultaneously."
    mandatory: false
    default: 1
  - name: device
    type: str
    description: "Hardware device ('auto', 'cuda', 'cpu', 'mps')."
    mandatory: false
    default: "auto"
  - name: quantize
    type: str
    description: "Quantization for CUDA ('4bit', '8bit', false)."
    mandatory: false
    default: false
  - name: trust_remote_code
    type: bool
    description: "Trust remote code (required for some models like Phi/Qwen)."
    mandatory: false
    default: false
commands:
  - name: pull_model
    title: Pull Model
    description: "Download a model from Hugging Face Hub."
    parameters:
      - name: model_name
        type: str
        description: "The Hugging Face Repo ID."
    output:
      - name: status
        type: bool
      - name: path
        type: str
  - name: merge_lora
    title: Merge LoRA Adapter
    description: "Combine a base model with a LoRA adapter and save it as a new local model."
    parameters:
      - name: base_model_name
        type: str
        description: "The HF ID of the base model (e.g., 'meta-llama/Llama-2-7b-hf')."
      - name: lora_model_name
        type: str
        description: "The HF ID of the LoRA adapter (e.g., 'tloen/alpaca-lora-7b')."
      - name: new_model_name
        type: str
        description: "The name for the new custom model (e.g., 'MyAlpaca')."
    output:
      - name: status
        type: bool
      - name: message
        type: str
  - name: ps
    title: Process Status
    description: "List currently loaded models and memory usage."
    parameters: []
    output:
      - name: models
        type: list
  - name: list_models
    title: List Available Models
    description: "Scan local cache and merged models."
    parameters: []
    output:
      - name: models
        type: list